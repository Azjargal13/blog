<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ES6 class | 雨无声</title>
    <meta name="description" content="ES6引入了 Class（类）这个概念，作为对象的模板。通过class关键字，可以定义类。基本上，ES6的class可以看作只是一个语法糖，它的绝大部分功能，ES5都可以做到，新的class写法只是让对象原型的写法更加清晰、更像面向对象编程的语法而已">
    <link rel="icon" href="/favicon.ico">
    
    <link rel="preload" href="/assets/css/styles.c093fd91.css" as="style"><link rel="preload" href="/assets/js/app.c093fd91.js" as="script"><link rel="preload" href="/assets/js/24.c6920439.js" as="script"><link rel="prefetch" href="/assets/css/1.styles.3cf9f0cb.css"><link rel="prefetch" href="/assets/css/2.styles.c7efada8.css"><link rel="prefetch" href="/assets/css/3.styles.a7e01bf9.css"><link rel="prefetch" href="/assets/css/4.styles.46a5109f.css"><link rel="prefetch" href="/assets/css/5.styles.7f589661.css"><link rel="prefetch" href="/assets/css/6.styles.a06b2402.css"><link rel="prefetch" href="/assets/css/7.styles.53ec83ac.css"><link rel="prefetch" href="/assets/css/8.styles.a2c935fe.css"><link rel="prefetch" href="/assets/css/9.styles.e48ef3e3.css"><link rel="prefetch" href="/assets/js/1.3cf9f0cb.js"><link rel="prefetch" href="/assets/js/10.10a6d618.js"><link rel="prefetch" href="/assets/js/11.2db0bf0f.js"><link rel="prefetch" href="/assets/js/12.21c29ea7.js"><link rel="prefetch" href="/assets/js/13.e09044d3.js"><link rel="prefetch" href="/assets/js/14.2f4f7c24.js"><link rel="prefetch" href="/assets/js/15.6f9bfa04.js"><link rel="prefetch" href="/assets/js/16.a829fe77.js"><link rel="prefetch" href="/assets/js/17.596ccb4f.js"><link rel="prefetch" href="/assets/js/18.fdd8de4d.js"><link rel="prefetch" href="/assets/js/19.c2744711.js"><link rel="prefetch" href="/assets/js/2.c7efada8.js"><link rel="prefetch" href="/assets/js/20.5630ee64.js"><link rel="prefetch" href="/assets/js/21.ca600525.js"><link rel="prefetch" href="/assets/js/22.abfab4dd.js"><link rel="prefetch" href="/assets/js/23.881ce416.js"><link rel="prefetch" href="/assets/js/25.cdf3b212.js"><link rel="prefetch" href="/assets/js/26.cade8387.js"><link rel="prefetch" href="/assets/js/27.16f702d6.js"><link rel="prefetch" href="/assets/js/28.06a1b451.js"><link rel="prefetch" href="/assets/js/29.cc36d51d.js"><link rel="prefetch" href="/assets/js/3.a7e01bf9.js"><link rel="prefetch" href="/assets/js/30.16141173.js"><link rel="prefetch" href="/assets/js/31.6c27106e.js"><link rel="prefetch" href="/assets/js/32.18f21d86.js"><link rel="prefetch" href="/assets/js/33.7ac61928.js"><link rel="prefetch" href="/assets/js/34.b639515d.js"><link rel="prefetch" href="/assets/js/35.6e605ba2.js"><link rel="prefetch" href="/assets/js/36.3aa5900b.js"><link rel="prefetch" href="/assets/js/4.46a5109f.js"><link rel="prefetch" href="/assets/js/5.7f589661.js"><link rel="prefetch" href="/assets/js/6.a06b2402.js"><link rel="prefetch" href="/assets/js/7.53ec83ac.js"><link rel="prefetch" href="/assets/js/8.a2c935fe.js"><link rel="prefetch" href="/assets/js/9.e48ef3e3.js">
    <link rel="stylesheet" href="/assets/css/1.styles.3cf9f0cb.css"><link rel="stylesheet" href="/assets/css/2.styles.c7efada8.css"><link rel="stylesheet" href="/assets/css/3.styles.a7e01bf9.css"><link rel="stylesheet" href="/assets/css/4.styles.46a5109f.css"><link rel="stylesheet" href="/assets/css/5.styles.7f589661.css"><link rel="stylesheet" href="/assets/css/6.styles.a06b2402.css"><link rel="stylesheet" href="/assets/css/7.styles.53ec83ac.css"><link rel="stylesheet" href="/assets/css/8.styles.a2c935fe.css"><link rel="stylesheet" href="/assets/css/9.styles.e48ef3e3.css"><link rel="stylesheet" href="/assets/css/styles.c093fd91.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="site-wrapper"><header blog="[object Object]" class="site-header outer 333 no-cover"><div class="inner"><!----> <nav class="site-nav"><div class="site-nav-left"><!----> <a href="/" class="site-nav-logo router-link-active">
      
    </a> <ul class="nav"></ul></div> <div class="site-nav-right"><div class="social-links"></div></div></nav></div></header> <main id="site-main" class="site-main outer"><div class="inner"><article class="post-full no-image"><header class="post-full-header"><h1 class="post-full-title"></h1></header> <!----> <section class="post-full-content"><div class="content custom post-content"><p>ES6引入了 Class（类）这个概念，作为对象的模板。通过class关键字，可以定义类。基本上，ES6的class可以看作只是一个语法糖，它的绝大部分功能，ES5都可以做到，新的class写法只是让对象原型的写法更加清晰、更像面向对象编程的语法而已</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> x
    <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> y
  <span class="token punctuation">}</span>

  <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">'('</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">+</span> <span class="token string">', '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">+</span> <span class="token string">')'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> point <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Point</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>

point<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// (2, 3)</span>
</code></pre></div><h4 id="不存在变量提升">不存在变量提升</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">new</span> <span class="token class-name">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// ReferenceError</span>
<span class="token keyword">class</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre></div><h4 id="this的指向">this的指向</h4> <p>类的方法内部如果含有this，它默认指向类的实例</p> <h4 id="class的继承">Class的继承</h4> <p>Class之间可以通过extends关键字实现继承</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">ColorPoint</span> <span class="token keyword">extends</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> color<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 调用父类的constructor(x, y)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>color <span class="token operator">=</span> color<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>color <span class="token operator">+</span> <span class="token string">' '</span> <span class="token operator">+</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 调用父类的toString()</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="class的取值函数（getter）和存值函数（setter）">Class的取值函数（getter）和存值函数（setter）</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">CustomHTMLElement</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>element <span class="token operator">=</span> element
  <span class="token punctuation">}</span>

  <span class="token keyword">get</span> <span class="token function">html</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">.</span>innerHTML
  <span class="token punctuation">}</span>

  <span class="token keyword">set</span> <span class="token function">html</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> value
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> descriptor <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyDescriptor</span><span class="token punctuation">(</span>CustomHTMLElement<span class="token punctuation">.</span>prototype<span class="token punctuation">,</span> <span class="token string">&quot;html&quot;</span><span class="token punctuation">)</span>

<span class="token string">&quot;get&quot;</span> <span class="token keyword">in</span> descriptor  <span class="token comment">// true</span>
<span class="token string">&quot;set&quot;</span> <span class="token keyword">in</span> descriptor  <span class="token comment">// true</span>
</code></pre></div><h4 id="class的generator方法">Class的Generator方法</h4> <p>如果某个方法之前加上星号（*），就表示该方法是一个Generator函数。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>args <span class="token operator">=</span> args
  <span class="token punctuation">}</span>
  <span class="token operator">*</span> <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> arg <span class="token keyword">of</span> <span class="token keyword">this</span><span class="token punctuation">.</span>args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">yield</span> arg
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> x <span class="token keyword">of</span> <span class="token keyword">new</span> <span class="token class-name">Foo</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">,</span> <span class="token string">'world'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// hello</span>
<span class="token comment">// world</span>
</code></pre></div><h4 id="class的静态方法">Class的静态方法</h4> <p>类相当于实例的原型，所有在类中定义的方法，都会被实例继承。如果在一个方法前，加上static关键字，就表示该方法不会被实例继承，而是直接通过类来调用，这就称为“静态方法”</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span>
  <span class="token keyword">static</span> <span class="token function">classMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">'hello'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

Foo<span class="token punctuation">.</span><span class="token function">classMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 'hello'</span>

<span class="token keyword">var</span> foo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
foo<span class="token punctuation">.</span><span class="token function">classMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// TypeError: foo.classMethod is not a function</span>
</code></pre></div></div></section></article></div></main> <footer class="site-footer outer"><div class="site-footer-content inner"><section class="copyright"><a href="/"></a> © 2019</section> <nav class="site-footer-nav"></nav></div></footer></div></div>
    <script src="/assets/js/24.c6920439.js" defer></script><script src="/assets/js/app.c093fd91.js" defer></script>
  </body>
</html>
